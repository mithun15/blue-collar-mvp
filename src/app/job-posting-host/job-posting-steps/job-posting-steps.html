<div class="card flex justify-center" [formGroup]="jobPostingForm">
  <p-stepper [value]="1" class="basis-[50rem]">
    <p-step-list>
      <p-step [value]="1"></p-step>
      <p-step [value]="2"></p-step>
      <p-step [value]="3"></p-step>
      <p-step [value]="4"></p-step>
    </p-step-list>
    <p-step-panels>
      <p-step-panel [value]="1">
        <ng-template #content let-activateCallback="activateCallback">
          <div class="step-1-container">
            <div style="display: flex; margin-top: 1rem">
              <p-select
                [options]="skills"
                optionLabel="name"
                optionValue="code"
                placeholder="Skill required"
                class="w-full md:w-56"
                formControlName="skill"
              />
            </div>
            <div class="workers-count">
              <div>कितने लोग चाहिए ?</div>
              @for (n of peopleOptions; track n) {
                <p-button
                  [label]="n.label"
                  [outlined]="selectedPeople !== n.value"
                  (onClick)="peopleSelected(n)"
                ></p-button>
              }
              <!-- <p-selectButton [options]="peopleOptions" [(ngModel)]="selectedPeople"> -->
              <!-- </p-selectButton> -->
            </div>
            <div>
              <div>एक की दैनिक मज़दूरी</div>
              <p-inputnumber
                [showButtons]="true"
                buttonLayout="horizontal"
                inputId="horizontal"
                spinnerMode="horizontal"
                [step]="0.25"
                mode="currency"
                currency="INR"
                formControlName="wagePerPerson"
              >
                <ng-template #incrementbuttonicon>
                  <span class="pi pi-plus"></span>
                </ng-template>
                <ng-template #decrementbuttonicon>
                  <span class="pi pi-minus"></span>
                </ng-template>
              </p-inputnumber>
            </div>
          </div>
          <div class="flex pt-6 justify-end">
            <p-button
              label="अगला स्टेप"
              icon="pi pi-arrow-right"
              iconPos="right"
              (onClick)="activateCallback(2); print()"
            />
          </div>
        </ng-template>
      </p-step-panel>
      <p-step-panel [value]="2">
        <ng-template #content let-activateCallback="activateCallback">
          <div class="step-2-container">
            <div>
              <div class="workers-count">
                <div>कब चाहिए ?</div>
                @for (n of timeOptions; track n) {
                  <div style="margin: 10px">
                    <p-button
                      [label]="n.label"
                      [outlined]="selectedTime !== n.value"
                      (onClick)="selectedTime = n.value"
                    ></p-button>
                  </div>
                }
                <p-datepicker
                  [showButtonBar]="true"
                  placeholder="तारीख चुने"
                  formControlName="date"
                />
              </div>
            </div>
          </div>
          <div class="flex pt-6 justify-between">
            <p-button
              severity="secondary"
              icon="pi pi-arrow-left"
              (onClick)="activateCallback(1)"
            />
            <p-button
              label="अगला स्टेप"
              icon="pi pi-arrow-right"
              iconPos="right"
              (onClick)="activateCallback(3); print()"
            />
          </div>
        </ng-template>
      </p-step-panel>
      <p-step-panel [value]="3">
        <ng-template #content let-activateCallback="activateCallback">
          <div class="flex flex-col h-48">
            <div>
              <div class="time-section">
                <h3>कितने बजे से</h3>

                <div class="time-box">
                  <!-- <p-inputNumber
                    [min]="1"
                    [max]="12"
                    [useGrouping]="false"
                    inputStyleClass="time-input"
                  >
                  </p-inputNumber>

                  <span class="colon">:</span>

                  <p-inputNumber
                    [min]="0"
                    [max]="59"
                    [useGrouping]="false"
                    inputStyleClass="time-input"
                  >
                  </p-inputNumber> -->
                  <p-datepicker
                    [showButtonBar]="true"
                    placeholder="समय चुने"
                    formControlName="fromTime"
                    [timeOnly]="true"
                  />
                </div>

                <p-selectButton [options]="periods"> </p-selectButton>
              </div>

              <hr />

              <div class="time-section">
                <h3>कितने बजे तक</h3>

                <div class="time-box">
                  <!-- <p-inputNumber
                    [min]="1"
                    [max]="12"
                    [useGrouping]="false"
                    inputStyleClass="time-input"
                  >
                  </p-inputNumber>

                  <span class="colon">:</span>

                  <p-inputNumber
                    [min]="0"
                    [max]="59"
                    [useGrouping]="false"
                    inputStyleClass="time-input"
                  >
                  </p-inputNumber> -->
                  <p-datepicker
                    [showButtonBar]="true"
                    placeholder="समय चुने"
                    formControlName="toTime"
                    [timeOnly]="true"
                  />
                </div>

                <p-selectButton [options]="periods"> </p-selectButton>
              </div>
            </div>
          </div>
          <div class="flex pt-6 justify-start">
            <p-button
              icon="pi pi-arrow-left"
              iconPos="right"
              severity="secondary"
              (onClick)="activateCallback(2)"
            />
            <p-button
              label="अगला स्टेप"
              icon="pi pi-arrow-right"
              iconPos="right"
              (onClick)="activateCallback(4); print()"
            />
          </div>
        </ng-template>
      </p-step-panel>
      <p-step-panel [value]="4">
        <ng-template #content let-activateCallback="activateCallback">
          <div class="form-section" formGroupName="contact">
            <h3>संपर्क किससे करना है</h3>

            <input
              pInputText
              type="text"
              placeholder="नाम"
              class="full-width"
              formControlName="name"
            />

            <input
              pInputText
              type="tel"
              placeholder="फ़ोन नंबर"
              class="full-width"
              formControlName="phone"
            />

            <h3 class="mt">कहाँ आना है ?</h3>

            <textarea
              pInputTextarea
              rows="4"
              placeholder="पूरा एड्रेस लिखें"
              class="full-width"
              formControlName="address"
            ></textarea>

            <input
              pInputText
              type="text"
              placeholder="आस पास क्या है/अन्य जानकारी"
              class="full-width"
              formControlName="landmark"
            />

            <p-select
              [options]="cities"
              placeholder="शहर का नाम"
              class="full-width"
              formControlName="city"
            ></p-select>
          </div>

          <div class="flex pt-6 justify-start">
            <p-button
              icon="pi pi-arrow-left"
              iconPos="right"
              severity="secondary"
              (onClick)="activateCallback(3)"
            />
            <p-button
              label="पुष्टि करें"
              icon="pi pi-arrow-right"
              iconPos="right"
              (click)="confirm()"
            />
          </div>
        </ng-template>
      </p-step-panel>
    </p-step-panels>
  </p-stepper>
</div>
